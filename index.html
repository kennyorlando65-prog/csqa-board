<!DOCTYPE html>
<html>
<head>
  <title>CSQA Board</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <h1>CSQA Board</h1>
  <input type="text" id="username" placeholder="Enter your name" />
  <input type="text" id="questionInput" placeholder="Ask a question..." />
  <button onclick="postQuestion()">Post Question</button>

  <div id="questionsContainer"></div>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      databaseURL: "YOUR_DATABASE_URL",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function postQuestion() {
      const questionText = document.getElementById("questionInput").value.trim();
      const username = document.getElementById("username").value.trim();
      const timestamp = new Date().toISOString();

      if (questionText && username) {
        db.ref("questions").push({
          question: questionText,
          username,
          timestamp
        });
        document.getElementById("questionInput").value = "";
      }
    }

    function postAnswer(qId) {
      const replyInput = document.getElementById(`answerInput-${qId}`);
      const replyText = replyInput.value.trim();
      const username = document.getElementById("username").value.trim();
      const timestamp = new Date().toISOString();

      if (replyText && username) {
        db.ref(`questions/${qId}/answers`).push({
          text: replyText,
          username,
          timestamp,
          upvotes: 0
        });
        replyInput.value = "";
      }
    }

    function loadQuestions() {
      db.ref("questions").on("value", snapshot => {
        const container = document.getElementById("questionsContainer");
        container.innerHTML = "";

        snapshot.forEach(qSnap => {
          const qId = qSnap.key;
          const qData = qSnap.val();

          const qDiv = document.createElement("div");
          qDiv.innerHTML = `
            <p><strong>${qData.username}</strong> asked: ${qData.question}</p>
            <input type="text" id="answerInput-${qId}" placeholder="Your answer..." />
            <button onclick="postAnswer('${qId}')">Reply</button>
            <div id="answers-${qId}"></div>
            <hr/>
          `;
          container.appendChild(qDiv);

          loadAnswers(qId);
        });
      });
    }

    function loadAnswers(qId) {
      db.ref(`questions/${qId}/answers`).on("value", snapshot => {
        const answersDiv = document.getElementById(`answers-${qId}`);
        answersDiv.innerHTML = "";

        snapshot.forEach(aSnap => {
          const aData = aSnap.val();
          const aDiv = document.createElement("div");
          aDiv.innerHTML = `<p>ðŸ’¬ <strong>${aData.username}</strong>: ${aData.text}</p>`;
          answersDiv.appen
</html>